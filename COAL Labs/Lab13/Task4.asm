.MODEL SMALL
.STACK 100H
.DATA
	PROMPT1 DB 10,13,"Enter hour: $"
	PROMPT2 DB 10,13,"Enter minute: $"
	PROMPT3 DB 10,13,"Enter second: $"
	PROMPT4 DB 10,13,"12-hour equivalent is $"
	NEWLINE DB 10,13,"$"
	AM DB " AM$"
	PM DB " PM$"
	COLON DB ":$"
INCLUDE DECIMAL.ASM
.CODE
MAIN PROC
	MOV AX,@DATA
	MOV DS,AX
	
	LEA DX,PROMPT1
	MOV AH,09H
	INT 21H
	
	CALL DECINP
	PUSH BX			;HOURS
	
	LEA DX,PROMPT2
	MOV AH,09H
	INT 21H
	
	CALL DECINP
	PUSH BX			;MINUTES
	
	LEA DX,PROMPT3
	MOV AH,09H
	INT 21H
	
	CALL DECINP
	
	LEA DX,PROMPT4
	MOV AH,09H
	INT 21H
	
	MOV DX,BX	;SECONDS
	POP BX		;MINUTES
	POP AX		;HOURS
	
	CMP AX,0
	JE ADD_HOUR
	CMP AX,12
	JE NOT_SUB
	JL OUTPUT
	SUB AX,12
	
NOT_SUB:
	MOV CX,1
	JMP OUTPUT
ADD_HOUR:
	MOV AX,12

OUTPUT:
	PUSH AX
	CALL DECOUT
	
	PUSH DX			;SECONDS ON STACK
	
	LEA DX,COLON
	MOV AH,09H
	INT 21H
	
	PUSH BX
	CALL DECOUT
	
	LEA DX,COLON
	MOV AH,09H
	INT 21H
	
	POP DX		;SECONDS OUT OF STACK
	PUSH DX
	CALL DECOUT
	
	CMP CX,1
	JE PRINT_PM
	
	LEA DX,AM
	MOV AH,09H
	INT 21H
	JMP TERMINATE
	
PRINT_PM:
	LEA DX,PM
	MOV AH,09H
	INT 21H
	
TERMINATE:
	MOV AH,4CH
	INT 21H
	
MAIN ENDP
END MAIN